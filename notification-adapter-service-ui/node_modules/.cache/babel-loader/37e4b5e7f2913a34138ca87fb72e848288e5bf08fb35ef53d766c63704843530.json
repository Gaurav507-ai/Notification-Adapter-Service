{"ast":null,"code":"var _jsxFileName = \"/home/gaurav/Desktop/Hackethon/Hackathon/notification-adapter-service-ui/src/components/ServerlessForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Button, CircularProgress } from \"@mui/material\";\nimport { toast } from \"react-toastify\";\nimport SendIcon from \"@mui/icons-material/Send\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ServerlessForm({\n  isButtonEnabled,\n  message,\n  onMessageSent\n}) {\n  _s();\n  const [isSendingSlack, setSendingSlack] = useState(false);\n  const [isSendingTeams, setSendingTeams] = useState(false);\n  const [isSendingWebex, setSendingWebex] = useState(false);\n  const serverlessEndpoints = {\n    slack: \"https://app-notification-adapter-service-240128190400.azurewebsites.net/api/SlackService?code=jLNiRkghKdW006iTTT2CzDXumWCq9XebypxTWrw64ATWAzFuaPGIYA==&message=\",\n    teams: \"https://app-notification-adapter-service-240128190400.azurewebsites.net/api/TeamsService?code=GnLb65gUoUh2NTDlI3N_lFWP_mQUjeTT0mCEOURamJMTAzFulTh6hw==&message=\",\n    webex: \"https://app-notification-adapter-service-240128190400.azurewebsites.net/api/WebexService?code=zxU-JB92CkIOue4MgXfJITd4Pa11EwLR1tdY3DA6hhu6AzFur1FOzg==&message=\"\n  };\n  const handleSendMessageToServerless = async platform => {\n    try {\n      if (platform === \"slack\") {\n        setSendingSlack(true);\n      } else if (platform === \"teams\") {\n        setSendingTeams(true);\n      } else if (platform === \"webex\") {\n        setSendingWebex(true);\n      }\n      const url = `${serverlessEndpoints[platform]}${message}`;\n      const response = await fetch(url, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Access-Control-Allow-Origin\": \"*\"\n        }\n      });\n      if (response.ok) {\n        toast.success(`Message sent successfully!`, {\n          autoClose: 1000\n        });\n        onMessageSent();\n      } else {\n        toast.error(`Failed to send message. Please try again.`, {\n          autoClose: 1000\n        });\n      }\n    } catch (error) {\n      console.error(`Error sending message via serverless:`, error);\n      toast.error(`An unexpected error occurred. Please try again later.`, {\n        autoClose: 1000\n      });\n    } finally {\n      if (platform === \"slack\") {\n        setSendingSlack(false);\n      } else if (platform === \"teams\") {\n        setSendingTeams(false);\n      } else if (platform === \"webex\") {\n        setSendingWebex(false);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      onClick: () => handleSendMessageToServerless(\"slack\"),\n      disabled: !isButtonEnabled || isSendingSlack || message.trim() === \"\",\n      fullWidth: true,\n      variant: \"contained\",\n      color: \"primary\",\n      style: {\n        marginTop: \"10px\"\n      },\n      startIcon: /*#__PURE__*/_jsxDEV(SendIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 20\n      }, this),\n      children: isSendingSlack ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n        size: 24\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 27\n      }, this) : \"Send to Slack\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: () => handleSendMessageToServerless(\"teams\"),\n      disabled: !isButtonEnabled || isSendingTeams || message.trim() === \"\",\n      fullWidth: true,\n      variant: \"contained\",\n      color: \"secondary\",\n      style: {\n        marginTop: \"10px\"\n      },\n      startIcon: /*#__PURE__*/_jsxDEV(SendIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 20\n      }, this),\n      children: isSendingTeams ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n        size: 24\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 27\n      }, this) : \"Send to Teams\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: () => handleSendMessageToServerless(\"webex\"),\n      disabled: !isButtonEnabled || isSendingWebex || message.trim() === \"\",\n      fullWidth: true,\n      variant: \"contained\",\n      color: \"primary\",\n      style: {\n        marginTop: \"10px\"\n      },\n      startIcon: /*#__PURE__*/_jsxDEV(SendIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 20\n      }, this),\n      children: isSendingWebex ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n        size: 24\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 27\n      }, this) : \"Send to Webex\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n_s(ServerlessForm, \"OI9YgB9p5UwzorK1URgeOdknxL4=\");\n_c = ServerlessForm;\nexport default ServerlessForm;\nvar _c;\n$RefreshReg$(_c, \"ServerlessForm\");","map":{"version":3,"names":["React","useState","Button","CircularProgress","toast","SendIcon","jsxDEV","_jsxDEV","ServerlessForm","isButtonEnabled","message","onMessageSent","_s","isSendingSlack","setSendingSlack","isSendingTeams","setSendingTeams","isSendingWebex","setSendingWebex","serverlessEndpoints","slack","teams","webex","handleSendMessageToServerless","platform","url","response","fetch","method","headers","ok","success","autoClose","error","console","children","onClick","disabled","trim","fullWidth","variant","color","style","marginTop","startIcon","fileName","_jsxFileName","lineNumber","columnNumber","size","_c","$RefreshReg$"],"sources":["/home/gaurav/Desktop/Hackethon/Hackathon/notification-adapter-service-ui/src/components/ServerlessForm.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Button, CircularProgress } from \"@mui/material\";\nimport { toast } from \"react-toastify\";\nimport SendIcon from \"@mui/icons-material/Send\";\n\nfunction ServerlessForm({ isButtonEnabled, message, onMessageSent }) {\n  const [isSendingSlack, setSendingSlack] = useState(false);\n  const [isSendingTeams, setSendingTeams] = useState(false);\n  const [isSendingWebex, setSendingWebex] = useState(false);\n  const serverlessEndpoints = {\n    slack:\n      \"https://app-notification-adapter-service-240128190400.azurewebsites.net/api/SlackService?code=jLNiRkghKdW006iTTT2CzDXumWCq9XebypxTWrw64ATWAzFuaPGIYA==&message=\",\n    teams:\n      \"https://app-notification-adapter-service-240128190400.azurewebsites.net/api/TeamsService?code=GnLb65gUoUh2NTDlI3N_lFWP_mQUjeTT0mCEOURamJMTAzFulTh6hw==&message=\",\n    webex:\n      \"https://app-notification-adapter-service-240128190400.azurewebsites.net/api/WebexService?code=zxU-JB92CkIOue4MgXfJITd4Pa11EwLR1tdY3DA6hhu6AzFur1FOzg==&message=\",\n  };\n\n  const handleSendMessageToServerless = async (platform) => {\n    try {\n      if (platform === \"slack\") {\n        setSendingSlack(true);\n      } else if (platform === \"teams\") {\n        setSendingTeams(true);\n      } else if (platform === \"webex\") {\n        setSendingWebex(true);\n      }\n      const url = `${serverlessEndpoints[platform]}${message}`;\n\n      const response = await fetch(url, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Access-Control-Allow-Origin\": \"*\",\n        },\n      });\n\n      if (response.ok) {\n        toast.success(`Message sent successfully!`, { autoClose: 1000 });\n        onMessageSent();\n      } else {\n        toast.error(`Failed to send message. Please try again.`, {\n          autoClose: 1000,\n        });\n      }\n    } catch (error) {\n      console.error(`Error sending message via serverless:`, error);\n      toast.error(`An unexpected error occurred. Please try again later.`, {\n        autoClose: 1000,\n      });\n    } finally {\n      if (platform === \"slack\") {\n        setSendingSlack(false);\n      } else if (platform === \"teams\") {\n        setSendingTeams(false);\n      } else if (platform === \"webex\") {\n        setSendingWebex(false);\n      }\n    }\n  };\n  return (\n    <div>\n      <Button\n        onClick={() => handleSendMessageToServerless(\"slack\")}\n        disabled={!isButtonEnabled || isSendingSlack || message.trim() === \"\"}\n        fullWidth\n        variant=\"contained\"\n        color=\"primary\"\n        style={{ marginTop: \"10px\" }}\n        startIcon={<SendIcon />}\n      >\n        {isSendingSlack ? <CircularProgress size={24} /> : \"Send to Slack\"}\n      </Button>\n      <Button\n        onClick={() => handleSendMessageToServerless(\"teams\")}\n        disabled={!isButtonEnabled || isSendingTeams || message.trim() === \"\"}\n        fullWidth\n        variant=\"contained\"\n        color=\"secondary\"\n        style={{ marginTop: \"10px\" }}\n        startIcon={<SendIcon />}\n      >\n        {isSendingTeams ? <CircularProgress size={24} /> : \"Send to Teams\"}\n      </Button>\n      <Button\n        onClick={() => handleSendMessageToServerless(\"webex\")}\n        disabled={!isButtonEnabled || isSendingWebex || message.trim() === \"\"}\n        fullWidth\n        variant=\"contained\"\n        color=\"primary\"\n        style={{ marginTop: \"10px\" }}\n        startIcon={<SendIcon />}\n      >\n        {isSendingWebex ? <CircularProgress size={24} /> : \"Send to Webex\"}\n      </Button>\n    </div>\n  );\n}\n\nexport default ServerlessForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}